<!DOCTYPE html>
<html>

<head>
    <title>URL Shortener with QR Code</title>
    <link rel="stylesheet" href="index.css" />
</head>

<body>
    <div class="container">
        <h1>URL Shortener</h1>
        <input type="text" id="urlInput" placeholder="Enter your URL here">
        <button onclick="shortenUrl()">Shorten URL</button>
        <div class="result" id="result"></div>
        <hr>
        <h6 class="note">Note: <span>It won't work for every URL</span></h6>
    </div>

    <div id="alertPopup" class="popup">
        <div class="popup-content">
            <span class="close" onclick="closePopup()">&times;</span>
            <h2>Alert</h2>
            <p>Please provide a valid URL to shorten.</p>
            <button onclick="closePopup()">OK</button>
        </div>
    </div>

    <script src="index.js"></script>

    <!-- <script>
        async function shortenUrl() {
            const urlInput = document.getElementById('urlInput').value;
            if (!urlInput) {
                alert('Please provide the link');
                return;
            }

            try {
                const response = await fetch(`https://api.tinyurl.com/create?api_token=UEnvJWSDfSWDKJVE7GtstiSOleQ5wYYp3S5312cHgS34NR7ZogiInItQ2WTa`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ url: urlInput })
                });

                const data = await response.json();
                const shortenedUrl = data.data.tiny_url;

                // Generate QR code URL
                const qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(shortenedUrl)}&size=100x100`;

                // Display the result
                const resultDiv = document.getElementById('result');
                resultDiv.innerHTML = `
            <a href="${shortenedUrl}" target="_blank">${shortenedUrl}</a>
            <img src="${qrCodeUrl}" alt="QR code for the shortened URL">
            <button class="copy-btn" onclick="copyToClipboard('${shortenedUrl}')">Copy URL</button>
            <button class="download-btn" onclick="downloadQRCode('${qrCodeUrl}')">Download QR Code</button>
        `;
            } catch (error) {
                console.error('Error shortening URL:', error);
                alert('Failed to shorten the URL. Please try again.');
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('URL copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy URL:', err);
                alert('Failed to copy URL. Please try again.');
            });
        }

        function downloadQRCode(qrCodeUrl) {
            const link = document.createElement('a');
            link.href = qrCodeUrl;
            link.download = 'qrcode.png';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script> -->

</body>

</html>